@tailwind base;
@tailwind components;
@tailwind utilities;

/* Material You base & accessibility */
@layer base {
  html {
    @apply antialiased;
  }
  body {
    @apply bg-md-surface text-md-on-surface font-sans text-base;
  }
  /* Focus visible ring for keyboard users */
  *:focus-visible {
    @apply outline-none ring-2 ring-md-primary ring-offset-2 ring-offset-md-surface;
  }
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* Reusable MD3 components */
@layer components {
  .btn-filled {
    @apply inline-flex items-center justify-center rounded-full bg-md-primary border border-transparent px-6 py-2.5 text-md-on-primary font-medium min-h-[44px] min-w-[44px]
      shadow-none transition-all duration-md-standard ease-md-emphasized
      hover:bg-md-primary/90 hover:shadow-md-2
      active:scale-95 active:bg-md-primary/80
      disabled:opacity-50 disabled:pointer-events-none disabled:active:scale-100;
  }
  .btn-tonal {
    @apply inline-flex items-center justify-center rounded-full bg-md-secondary-container px-6 py-2.5 text-md-on-secondary-container font-medium min-h-[44px] min-w-[44px]
      transition-all duration-md-standard ease-md-emphasized
      hover:bg-md-secondary-container/90 hover:shadow-md-1
      active:scale-95
      disabled:opacity-50 disabled:pointer-events-none disabled:active:scale-100;
  }
  .btn-outlined {
    @apply inline-flex items-center justify-center rounded-full border border-md-outline bg-transparent px-6 py-2.5 text-md-primary font-medium min-h-[44px] min-w-[44px]
      transition-all duration-md-standard ease-md-emphasized
      hover:bg-md-primary/5 active:scale-95
      disabled:opacity-50 disabled:pointer-events-none disabled:active:scale-100;
  }
  /* Card: tonal surface, large radius, shadow progression on hover */
  .card-md {
    @apply rounded-md-lg bg-md-surface-container p-6 shadow-md-1 transition-all duration-md-standard ease-md-emphasized
      hover:shadow-md-2 sm:p-8;
  }
  /* Link row: touch target, state layer on hover */
  .link-card-md {
    @apply flex min-h-[48px] items-center gap-3 rounded-md-lg bg-md-surface-container-low/80 px-4 py-4
      transition-all duration-md-standard ease-md-emphasized
      hover:bg-md-primary/10 hover:shadow-md-1 border border-transparent hover:border-md-outline/20;
  }

  /* Floating animation keyframes for decorative shapes */
  @keyframes float-slow {
    0%, 100% { transform: translateY(0) rotate(var(--rotate, 0deg)); }
    50% { transform: translateY(-12px) rotate(var(--rotate, 0deg)); }
  }
  @keyframes float-medium {
    0%, 100% { transform: translateY(0) rotate(var(--rotate, 0deg)); }
    50% { transform: translateY(-8px) rotate(var(--rotate, 0deg)); }
  }
  @keyframes float-fast {
    0%, 100% { transform: translateY(0) rotate(var(--rotate, 0deg)); }
    50% { transform: translateY(-6px) rotate(var(--rotate, 0deg)); }
  }
  .animate-float-slow {
    animation: float-slow 6s ease-in-out infinite;
  }
  .animate-float-medium {
    animation: float-medium 4s ease-in-out infinite;
  }
  .animate-float-fast {
    animation: float-fast 3s ease-in-out infinite;
  }

  /* Toast slide animations */
  @keyframes slide-in {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  @keyframes slide-out {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(100%); opacity: 0; }
  }
  .animate-slide-in {
    animation: slide-in 0.3s ease-out forwards;
  }
  .animate-slide-out {
    animation: slide-out 0.3s ease-in forwards;
  }

  /* Skeleton loading animation */
  @keyframes skeleton-pulse {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 0.7; }
  }
  .skeleton {
    background: linear-gradient(90deg, currentColor 25%, transparent 50%, currentColor 75%);
    background-size: 200% 100%;
    animation: skeleton-pulse 1.5s ease-in-out infinite;
    border-radius: 4px;
    display: inline-block;
  }

  /* Rounded triangle using clip-path */
  .rounded-triangle {
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    border-radius: 20%;
  }
}
